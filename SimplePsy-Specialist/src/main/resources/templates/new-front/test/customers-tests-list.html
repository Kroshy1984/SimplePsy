<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" type="text/css" th:href="@{/css/new-front/global.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/new-front/test/customers-tests-list.css}" />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap"
    />
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Rubik:wght@400&display=swap"
    />
</head>
<body>
<style>
    .component-191 ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .component-191 li {
        margin-bottom: 20px;
    }
    .oprosnik {
        position: relative;
        font-size: var(--bold-16-size);
        line-height: 18px;
        font-weight: 700;
        font-family: var(--bold-10);
        color: #5C80FF;
        text-align: center;
        z-index: 1;
    }
    .scoring-item {
        background-color: #f7f7f7;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .scoring-type {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 10px;
    }

    .buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }

    .button-type {
        background-color: #4CAF50;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }

    .button-type:hover {
        background-color: #3e8e41;
    }

    .button {
        background-color: #4CAF50;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }

    .button:hover {
        background-color: #3e8e41;
    }
</style>
<div class="div189">
    <div class="settings4"></div>
    <section class="frame-parent108">
        <div class="navigation-left-parent">
            <div class="navigation-left">
                <div class="navigation-menu1">
                    <div class="navigation-items2">
                        <div class="frame-parent109">
                            <div class="icon-parent26">
                                <img
                                        class="icon134"
                                        loading="lazy"
                                        alt=""
                                        src="./public/icon@2x.png"
                                />

                                <a class="constructor10">Понятная практика</a>
                            </div>
                            <div class="navigation-right">
                                <div class="wrapper-user-parent1">
                                    <div class="wrapper-user10">
                                        <img
                                                class="user-icon10"
                                                loading="lazy"
                                                alt=""
                                                src="./public/user@2x.png"
                                                id="userImage"
                                        />
                                    </div>
                                    <div class="user-info1">
                                        <div class="user-name2">
                                            <b class="hello-rosalie10">Привет, Антон!</b>
                                        </div>
                                        <b class="rosaliericegmailc10">
                                            <p class="ponyatpractikagmailcom6">
                                                ponyatpractika@gmail.com
                                            </p>
                                        </b>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-navigation-wrapper">
                                <div class="dashboard-navigation">
                                    <div class="navigation-options">
                                        <div class="navigation-items-container">
                                            <div class="dashboard29" id="dashboardContainer">
                                                <div class="base85"></div>
                                                <div class="icon-wrapper29">
                                                    <img
                                                            class="icon135"
                                                            alt=""
                                                            src="./public/icon-3@2x.png"
                                                    />
                                                </div>
                                                <b class="dashboard30">Список клиентов</b>
                                            </div>
                                            <div class="calendar-item">
                                                <div class="base86" id="baseContainer">
                                                    <div class="icon-wrapper30">
                                                        <img
                                                                class="icon136"
                                                                alt=""
                                                                src="./public/icon-41@2x.png"
                                                        />
                                                    </div>
                                                    <b class="calendars10">Календарь</b>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="navigation-options1">
                                        <div class="invoice-container">
                                            <div class="invoice20" id="invoiceContainer">
                                                <div class="base87"></div>
                                                <div class="icon-wrapper31">
                                                    <img
                                                            class="icon137"
                                                            alt=""
                                                            src="./public/icon-5.svg"
                                                    />
                                                </div>
                                                <b class="invoice21">Уведомления</b>
                                            </div>
                                            <div class="base-parent13">
                                                <div class="base88"></div>
                                                <div class="icon-wrapper32">
                                                    <img
                                                            class="icon138"
                                                            alt=""
                                                            src="./public/icon-6.svg"
                                                    />
                                                </div>
                                                <b class="files11">Аналитика</b>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="div190" id="container">
                                        <div class="base89"></div>
                                        <b class="dashboard31">Опросники и тесты</b>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="notification-icon">
                        <img class="icon139" alt="" src="./public/icon-1@2x.png" />
                    </div>
                    <div class="search-bar">
                        <div class="search-input4">
                            <nav class="search-input-container">
                                <div class="search-input-field">
                                    <b class="search11">Найти клиента...</b>
                                </div>
                                <div class="search-options">
                                    <div class="search-dropdown">
                                        <div class="search-dropdown-items">
                                            <a class="about-us17">Добавить клиента</a>
                                            <div class="policy-items">
                                                <a class="news11">Назначить встречу</a>
                                                <b class="user-policy11"
                                                >Добавить график нерабочих дней
                                                </b>
                                            </div>
                                        </div>
                                        <div class="frame-parent110">
                                            <button class="rectangle-parent99" id="groupButton">
                                                <div class="frame-child125"></div>
                                                <div class="div191">Карта клиента</div>
                                            </button>
                                            <button class="rectangle-parent100">
                                                <div class="frame-child126"></div>
                                                <div class="div192">Список встреч</div>
                                            </button>
                                            <div class="rectangle-parent101" id="groupContainer">
                                                <div class="frame-child127"></div>
                                                <h3 class="h33">Опросники и тесты</h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="location1">
                                    <img
                                            class="icon140"
                                            alt=""
                                            src="./public/icon-2@2x.png"
                                    />

                                    <div class="location-name2">
                                        <b class="new-york10">Ростов-на-Дону</b>
                                    </div>
                                </div>
                            </nav>
                            <div class="content-right">
                                <div class="frame-parent111">
                                    <div class="filter-bar-wrapper">
                                        <div class="filter-bar">
                                            <div class="image-filter">
                                                <img
                                                        class="image-4-icon2"
                                                        loading="lazy"
                                                        alt=""
                                                        src="./public/image-4@2x.png"
                                                />

                                                <div class="image-filter-inner">
                                                    <div class="rectangle-parent102">
                                                        <div class="frame-child128"></div>
                                                        <div class="div193">А/Я</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="filter-name">
                                                <h3 class="h34">Панель фильтрации</h3>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="component-19-parent">
                                        <ul class="component-191">
                                            <li class="frame-parent112" th:each="scoring : ${scorings}">
                                                <div class="rectangle-parent103">
                                                    <b th:text="${#dates.format(scoring.getDate(), 'dd.MM.yyyy')}" class="test-list-dividers">20.02.2024</b>
                                                    <div class="frame-child129"></div>
                                                </div>
                                                <div class="test-list-names">
                                                    <div class="test-list-names-child"></div>
                                                    <h2 class="h23" th:text="${scoring.title}"></h2>
                                                    <div class="test-list-icons">
                                                        <button class="rectangle-parent104">
                                                            <div class="frame-child130"></div>
                                                            <b class="oprosnik" th:if="${scoring.type == T(ru.sfedu.simplepsyspecialist.entity.nested.TypeOfScoring).QUESTIONER}">Опросник</b>
                                                            <b class="b121" th:if="${scoring.type == T(ru.sfedu.simplepsyspecialist.entity.nested.TypeOfScoring).TEST}">Тест</b>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                        <form class="search-bar-container-parent" id="searchForm">
                                            <div class="search-bar-container">
                                                <div class="search-bar-container-child"></div>
                                                <div class="search-bar-container-inner">
                                                    <div class="rectangle-parent117">
                                                        <div class="frame-child143"></div>
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon141">
                                                            <path d="M 10 2 C 5.589844 2 2 5.589844 2 10 C 2 14.410156 5.589844 18 10 18 C 11.785156 18 13.433594 17.40625 14.734375 16.40625 L 19.292969 20.96875 L 20.707031 19.554688 L 16.144531 14.996094 C 17.144531 13.695312 17.738281 12.046875 17.738281 10.261719 C 17.738281 5.589844 14.410156 2 10 2 Z M 10 4 C 13.300781 4 16 6.699219 16 10 C 16 13.300781 13.300781 16 10 16 C 6.699219 16 4 13.300781 4 10 C 4 6.699219 6.699219 4 10 4 Z" fill="silver"/>
                                                        </svg>
                                                        <input
                                                                class="search-input-area"
                                                                placeholder="Поиск "
                                                                type="text"
                                                        />
                                                    </div>
                                                </div>
                                                <div class="filter-options">
                                                    <div class="filter-dropdown">
                                                        <div class="component17">
                                                            <button class="item104">
                                                                <div class="div195">Опрос</div>
                                                            </button>
                                                            <button class="item105">
                                                                <div class="div196">Тест</div>
                                                            </button>
                                                        </div>
                                                        <div class="search-button">
                                                            <div class="frame-parent117">
                                                                <div class="frame-wrapper70">
                                                                    <div class="frame-parent118">
                                                                        <div class="wrapper45">
                                                                            <div class="div197">с</div>
                                                                        </div>
                                                                        <div class="rectangle-parent118">
                                                                            <div class="frame-child144"></div>
                                                                            <input type="text" class="xxxxxxxx" placeholder="xx.xx.xxxx">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="preposition-container-parent">
                                                                    <div class="preposition-container">
                                                                        <div class="div198">по</div>
                                                                    </div>
                                                                    <div class="preposition-background">
                                                                        <div
                                                                                class="preposition-background-child"
                                                                        ></div>
                                                                        <input type="text" class="xxxxxxxx1" placeholder="xx.xx.xxxx">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="search-button-container">
                                                        <div class="rectangle-parent119">
                                                            <div class="frame-child145"></div>
                                                            <div class="div199">Найти</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="my-materials-container">
                                                <button
                                                        class="rectangle-parent120"
                                                        id="groupButton6"
                                                >
                                                    <div class="frame-child146"></div>
                                                    <div class="div200">
                                                        Перейти к моим материалам
                                                    </div>
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <img class="icon142" alt="" src="./public/icon.svg" />
                    </div>
                </div>
                <div class="wrapper46">
                    <b class="b130">Заявки</b>
                </div>
            </div>
            <div class="application-entry">
                <div class="empty-field-parent" id="groupContainer">
                    <div class="empty-field">
                        <div class="empty-field-child"></div>
                        <b class="placeholder18">20.02.2024</b>
                    </div>
                    <div class="applicant-name-field">
                        <div class="applicant-name-field-child"></div>
                        <b class="b131">Овсянникова Юля Матвеевна</b>
                    </div>
                </div>
            </div>
        </div>
        <div class="second-application-entry">
            <div class="second-empty-field-parent" id="groupContainer">
                <div class="second-empty-field">
                    <div class="second-empty-field-child"></div>
                    <b class="second-placeholder">25.02.2024</b>
                </div>
                <div class="second-applicant-name">
                    <div class="second-applicant-name-child"></div>
                    <b class="b132">Овсянникова Юля Матвеевна</b>
                </div>
            </div>
        </div>
    </section>
    <div class="item106">
        <img class="feather-icon-chevron-up18" alt="" />
    </div>
    <div class="feedback-container-wrapper">
        <div class="feedback-container1">
            <img class="icon143" alt="" src="./public/icon-7@2x.png" />

            <div class="feedback-button1">
                <div class="feedback-label1">
                    <b class="send-feedback10">Обратная связь</b>
                </div>
                <img class="icon144" alt="" src="./public/icon-8.svg" />
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.item103, .item104, .item105');

    buttons.forEach(button => {
      button.addEventListener('click', function(event) {
          // Удаляем класс active у всех кнопок
          buttons.forEach(btn => btn.classList.remove('active'));

          // Добавляем класс active к нажатой кнопке
          this.classList.add('active');

          // Предотвращаем потерю фокуса после клика
          event.preventDefault();
          this.blur(); // Сбрасываем фокус
      });
    });
    });
    document.addEventListener('DOMContentLoaded', function() {
    const dateInput = document.querySelector('.xxxxxxxx');

    dateInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/[^0-9]/g, ''); // Удаляем все символы, кроме цифр

      if (e.inputType === 'deleteContentBackward') {
          // Если это действие удаления, то не вставляем точки
          return;
      }

      // Форматируем значение в формат dd.mm.yyyy
      if (value.length >= 2 && value.length <= 4) {
          value = value.replace(/^(\d{2})(\d{0,2})/, '$1.$2');
      } else if (value.length > 4) {
          value = value.replace(/^(\d{2})(\d{2})(\d{0,4})/, '$1.$2.$3');
      }

      e.target.value = value;
    });

    dateInput.addEventListener('keydown', function(e) {
      // Разрешаем удаление точек при нажатии Backspace
      if (e.key === 'Backspace' && this.value.endsWith('.')) {
          this.value = this.value.slice(0, -1);
      }
    });
    });
    document.addEventListener('DOMContentLoaded', function() {
    const dateInput = document.querySelector('.xxxxxxxx1');

    dateInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/[^0-9]/g, ''); // Удаляем все символы, кроме цифр

      if (e.inputType === 'deleteContentBackward') {
          // Если это действие удаления, то не вставляем точки
          return;
      }

      // Форматируем значение в формат dd.mm.yyyy
      if (value.length >= 2 && value.length <= 4) {
          value = value.replace(/^(\d{2})(\d{0,2})/, '$1.$2');
      } else if (value.length > 4) {
          value = value.replace(/^(\d{2})(\d{2})(\d{0,4})/, '$1.$2.$3');
      }

      e.target.value = value;
    });

    dateInput.addEventListener('keydown', function(e) {
      // Разрешаем удаление точек при нажатии Backspace
      if (e.key === 'Backspace' && this.value.endsWith('.')) {
          this.value = this.value.slice(0, -1);
      }
    });
    });
    var userImage = document.getElementById("userImage");
    if (userImage) {
      userImage.addEventListener("click", function (e) {
        window.location.href = "./frame5.html";
      });
    }

    var dashboardContainer = document.getElementById("dashboardContainer");
    if (dashboardContainer) {
      dashboardContainer.addEventListener("click", function (e) {
        window.location.href = "./frame3.html";
      });
    }

    var baseContainer = document.getElementById("baseContainer");
    if (baseContainer) {
      baseContainer.addEventListener("click", function (e) {
        window.location.href = "./frame.html";
      });
    }

    var invoiceContainer = document.getElementById("invoiceContainer");
    if (invoiceContainer) {
      invoiceContainer.addEventListener("click", function (e) {
        window.location.href = "./frame4.html";
      });
    }

    var container = document.getElementById("container");
    if (container) {
      container.addEventListener("click", function (e) {
        window.location.href = "./frame15.html";
      });
    }

    var groupButton = document.getElementById("groupButton");
    if (groupButton) {
      groupButton.addEventListener("click", function (e) {
        window.location.href = "./frame13.html";
      });
    }

    var groupContainer = document.getElementById("groupContainer");
    if (groupContainer) {
      groupContainer.addEventListener("click", function (e) {
        window.location.href = "./frame14.html";
      });
    }

    var groupButton6 = document.getElementById("groupButton6");
    if (groupButton6) {
      groupButton6.addEventListener("click", function (e) {
        window.location.href = "./frame15.html";
      });
    }

    var groupContainer = document.getElementById("groupContainer");
    if (groupContainer) {
      groupContainer.addEventListener("click", function (e) {
        window.location.href = "./frame13.html";
      });
    }
    document.getElementById('searchForm').addEventListener('submit', function(event) {
        event.preventDefault();

        // Получение значений из формы
        const searchQuery = document.querySelector('.search-input-area').value.toLowerCase();
        const selectedType = document.querySelector('.component17 .item104.active')?.innerText.toLowerCase();
        const startDate = document.querySelector('.xxxxxxxx').value;
        const endDate = document.querySelector('.xxxxxxxx1').value;

        // Преобразование дат в формат YYYY-MM-DD
        const parseDate = (dateStr) => {
            const [day, month, year] = dateStr.split('.');
            return `${year}-${month}-${day}`;
        };

        const listItems = document.querySelectorAll('#testList li');

        listItems.forEach(item => {
            const title = item.getAttribute('data-title').toLowerCase();
            const type = item.getAttribute('data-type').toLowerCase();
            const date = item.getAttribute('data-date');

            let matchesSearch = title.includes(searchQuery);
            let matchesType = !selectedType || type === selectedType;
            let matchesDate = (!startDate || date >= parseDate(startDate)) && (!endDate || date <= parseDate(endDate));

            if (matchesSearch && matchesType && matchesDate) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });

    // Пример сортировки списка по названию
    function sortListByTitle() {
        const list = document.getElementById('testList');
        const items = Array.from(list.getElementsByTagName('li'));

        items.sort((a, b) => {
            const titleA = a.getAttribute('data-title').toLowerCase();
            const titleB = b.getAttribute('data-title').toLowerCase();

            return titleA.localeCompare(titleB);
        });

        items.forEach(item => list.appendChild(item));
    }

    // Пример сортировки списка по типу
    function sortListByType() {
        const list = document.getElementById('testList');
        const items = Array.from(list.getElementsByTagName('li'));

        items.sort((a, b) => {
            const typeA = a.getAttribute('data-type').toLowerCase();
            const typeB = b.getAttribute('data-type').toLowerCase();

            return typeA.localeCompare(typeB);
        });

        items.forEach(item => list.appendChild(item));
    }

    // Пример сортировки списка по дате
    function sortListByDate() {
        const list = document.getElementById('testList');
        const items = Array.from(list.getElementsByTagName('li'));

        items.sort((a, b) => {
            const dateA = new Date(a.getAttribute('data-date'));
            const dateB = new Date(b.getAttribute('data-date'));

            return dateA - dateB;
        });

        items.forEach(item => list.appendChild(item));
    }
</script>
</body>
</html>
